{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kashi-lab/github/tangochou/pages/text/[id].tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport Layout from '../../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport Button from '../../components/Button';\nimport { addWord, deleteWord } from '../../utils/dbUtils';\nimport { unescape, strip } from '../../utils/strUtils';\n\nconst Loader = require('react-loaders').Loader;\n\nconst initialState = {\n  sWordList: []\n};\nconst linkStyle = {\n  color: 'white',\n  fontSize: '0.5rem',\n  fontWeight: 'bold',\n  textDecoration: 'none'\n};\n\nconst handleWordClick = async event => {\n  const word = event.target.innerHTML;\n  const container = document.getElementsByClassName('def')[0]; // show loading\n  // const loader = <Loader type=\"pacman\" active />;\n  // const loader = <div className={scss.pacman}></div>;\n\n  const loader = __jsx(\"img\", {\n    src: \"/static/loader.gif\",\n    style: {\n      width: '3rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  });\n\n  ReactDOM.render(loader, container); // remove commas and periods\n\n  let qword = strip(word); // split string if concatenated\n\n  if (word.includes(\"'\")) qword = word.split(\"'\")[1]; // show link to Linguee\n\n  const url = `https://www.linguee.fr/francais-anglais/search?source=auto&query=${qword}`;\n\n  const link = __jsx(\"a\", {\n    href: url,\n    style: linkStyle,\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, url);\n\n  document.getElementsByClassName('word')[0].innerText = qword;\n  ReactDOM.render(link, document.getElementsByClassName('def-link')[0]); // get definitions from Linguee\n\n  const response = await fetch(`http://localhost:3000/api/linguee/${qword}`);\n  const data = await response.json();\n  console.log(data); // display definitions\n\n  const spanStyle = {\n    marginRight: '1rem'\n  };\n  let elements;\n\n  if (data.length) {\n    elements = data.map((item, index) => __jsx(\"span\", {\n      key: index,\n      style: spanStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, item));\n  } else {\n    elements = __jsx(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"no definition found :(\");\n  }\n\n  ReactDOM.render(elements, container);\n};\n\nconst textWithTags = (text, wordlist) => __jsx(React.Fragment, null, text.split(' ').map((word, index) => __jsx(React.Fragment, null, __jsx(\"span\", {\n  key: index,\n  onClick: handleWordClick,\n  className: \"jsx-54747956\" + \" \" + ((wordlist.includes(word) ? 'highlight' : '') || \"\"),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84\n  },\n  __self: this\n}, unescape(word)), \"\\xA0\")), __jsx(_JSXStyle, {\n  id: \"54747956\",\n  __self: this\n}, \".highlight.jsx-54747956{background-color:#a17da1;color:white;padding:0 0.3rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYXNoaS1sYWIvZ2l0aHViL3RhbmdvY2hvdS9wYWdlcy90ZXh0L1tpZF0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZGZ0IsQUFHa0MseUJBQ2IsWUFDSyxpQkFDbkIiLCJmaWxlIjoiL1VzZXJzL2thc2hpLWxhYi9naXRodWIvdGFuZ29jaG91L3BhZ2VzL3RleHQvW2lkXS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCc7XG5pbXBvcnQgSW5wdXRUZXh0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvSW5wdXRUZXh0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IHsgYWRkV29yZCwgZGVsZXRlV29yZCB9IGZyb20gJy4uLy4uL3V0aWxzL2RiVXRpbHMnO1xuaW1wb3J0IHsgdW5lc2NhcGUsIHN0cmlwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RyVXRpbHMnO1xuXG5pbXBvcnQgc2NzcyBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvbG9hZGVycy5jc3Mvc3JjL2FuaW1hdGlvbnMvcGFjbWFuLnNjc3MnO1xuY29uc3QgTG9hZGVyID0gcmVxdWlyZSgncmVhY3QtbG9hZGVycycpLkxvYWRlcjtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaWQ6IG51bWJlcjtcbiAgZGVzYzogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHdvcmRsaXN0OiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgc1dvcmRMaXN0OiBzdHJpbmdbXTtcbn1cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgc1dvcmRMaXN0OiBbXSxcbn07XG5cbmNvbnN0IGxpbmtTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgY29sb3I6ICd3aGl0ZScsXG4gIGZvbnRTaXplOiAnMC41cmVtJyxcbiAgZm9udFdlaWdodDogJ2JvbGQnLFxuICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxufTtcblxuY29uc3QgaGFuZGxlV29yZENsaWNrID0gYXN5bmMgKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gIGNvbnN0IHdvcmQgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxTcGFuRWxlbWVudCkuaW5uZXJIVE1MO1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZWYnKVswXTtcbiAgLy8gc2hvdyBsb2FkaW5nXG4gIC8vIGNvbnN0IGxvYWRlciA9IDxMb2FkZXIgdHlwZT1cInBhY21hblwiIGFjdGl2ZSAvPjtcbiAgLy8gY29uc3QgbG9hZGVyID0gPGRpdiBjbGFzc05hbWU9e3Njc3MucGFjbWFufT48L2Rpdj47XG4gIGNvbnN0IGxvYWRlciA9IDxpbWcgc3JjPVwiL3N0YXRpYy9sb2FkZXIuZ2lmXCIgc3R5bGU9e3sgd2lkdGg6ICczcmVtJyB9fSAvPjtcbiAgUmVhY3RET00ucmVuZGVyKGxvYWRlciwgY29udGFpbmVyKTtcbiAgLy8gcmVtb3ZlIGNvbW1hcyBhbmQgcGVyaW9kc1xuICBsZXQgcXdvcmQgPSBzdHJpcCh3b3JkKTtcbiAgLy8gc3BsaXQgc3RyaW5nIGlmIGNvbmNhdGVuYXRlZFxuICBpZiAod29yZC5pbmNsdWRlcyhcIidcIikpIHF3b3JkID0gd29yZC5zcGxpdChcIidcIilbMV07XG4gIC8vIHNob3cgbGluayB0byBMaW5ndWVlXG4gIGNvbnN0IHVybCA9IGBodHRwczovL3d3dy5saW5ndWVlLmZyL2ZyYW5jYWlzLWFuZ2xhaXMvc2VhcmNoP3NvdXJjZT1hdXRvJnF1ZXJ5PSR7cXdvcmR9YDtcbiAgY29uc3QgbGluayA9IChcbiAgICA8YSBocmVmPXt1cmx9IHN0eWxlPXtsaW5rU3R5bGV9IHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAge3VybH1cbiAgICA8L2E+XG4gICk7XG4gIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICd3b3JkJyxcbiAgKVswXSBhcyBIVE1MRGl2RWxlbWVudCkuaW5uZXJUZXh0ID0gcXdvcmQ7XG4gIFJlYWN0RE9NLnJlbmRlcihsaW5rLCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZWYtbGluaycpWzBdKTtcblxuICAvLyBnZXQgZGVmaW5pdGlvbnMgZnJvbSBMaW5ndWVlXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvbGluZ3VlZS8ke3F3b3JkfWApO1xuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgLy8gZGlzcGxheSBkZWZpbml0aW9uc1xuICBjb25zdCBzcGFuU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7IG1hcmdpblJpZ2h0OiAnMXJlbScgfTtcblxuICBsZXQgZWxlbWVudHM7XG4gIGlmIChkYXRhLmxlbmd0aCkge1xuICAgIGVsZW1lbnRzID0gZGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICA8c3BhbiBrZXk9e2luZGV4fSBzdHlsZT17c3BhblN0eWxlfT5cbiAgICAgICAge2l0ZW19XG4gICAgICA8L3NwYW4+XG4gICAgKSk7XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudHMgPSA8aT5ubyBkZWZpbml0aW9uIGZvdW5kIDooPC9pPjtcbiAgfVxuXG4gIFJlYWN0RE9NLnJlbmRlcihlbGVtZW50cywgY29udGFpbmVyKTtcbn07XG5cbmNvbnN0IHRleHRXaXRoVGFncyA9ICh0ZXh0OiBzdHJpbmcsIHdvcmRsaXN0OiBzdHJpbmdbXSkgPT4gKFxuICA8PlxuICAgIHt0ZXh0LnNwbGl0KCcgJykubWFwKCh3b3JkLCBpbmRleCkgPT4gKFxuICAgICAgPD5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgIGNsYXNzTmFtZT17d29yZGxpc3QuaW5jbHVkZXMod29yZCkgPyAnaGlnaGxpZ2h0JyA6ICcnfVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVdvcmRDbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHt1bmVzY2FwZSh3b3JkKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICAmbmJzcDtcbiAgICAgIDwvPlxuICAgICkpfVxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIC5oaWdobGlnaHQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTE3ZGExO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIHBhZGRpbmc6IDAgMC4zcmVtO1xuICAgICAgfVxuICAgIGB9PC9zdHlsZT5cbiAgPC8+XG4pO1xuXG5jbGFzcyBUZXh0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0ZTogU3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyhjb250ZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gY29udGV4dC5xdWVyeTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAxL3RleHRzP2lkPSR7aWR9YCk7XG4gICAgbGV0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGRhdGEgPSBkYXRhWzBdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgZGVzYzogZGF0YS5kZXNjLFxuICAgICAgdGV4dDogZGF0YS50ZXh0LFxuICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICB3b3JkbGlzdDogZGF0YS53b3JkbGlzdCxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndvcmQtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3b3JkXCI+XG4gICAgICAgICAgICA8aT5jbGljayBvbiBhIHdvcmQgOik8L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZWZcIj48L2Rpdj5cbiAgICAgICAgICB7LyogPElucHV0VGV4dCAvPiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgY2xpY2toYW5kbGVyPXtlID0+IHtcbiAgICAgICAgICAgICAgICBhZGRXb3JkKFxuICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dvcmQnKVswXSBhcyBIVE1MRGl2RWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgLmlubmVyVGV4dCxcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZWYnKVswXS5jaGlsZE5vZGVzLCB4ID0+IHgudGV4dENvbnRlbnQpXG4gICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICkudGhlbigoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIGFkZCB0byB2b2NhYlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGNsaWNraGFuZGxlcj17ZSA9PiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlV29yZChcbiAgICAgICAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3b3JkJylbMF0gYXMgSFRNTERpdkVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5pbm5lclRleHQsXG4gICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICAgICkudGhlbigoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHJlbW92ZSBmcm9tIHZvY2FiXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlZi1saW5rXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aHI+PC9ocj5cbiAgICAgICAgPGgzPnt0aGlzLnByb3BzLnRpdGxlfTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jb250YWluZXJcIj5cbiAgICAgICAgICB7dGV4dFdpdGhUYWdzKHRoaXMucHJvcHMudGV4dCwgdGhpcy5wcm9wcy53b3JkbGlzdCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLmJ1dHRvbi1jb250YWluZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGVmIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWZsb3c6IHJvdyB3cmFwO1xuICAgICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmRlZi1saW5rIHtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAudGV4dC1jb250YWluZXIge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZmxvdzogcm93IHdyYXA7XG4gICAgICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgICAgICAgIH1cbiAgICAgICAgICAud29yZCB7XG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNmZmY7XG4gICAgICAgICAgfVxuICAgICAgICAgIC53b3JkLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTE3ZGExO1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZmxvdzogY29sdW1uO1xuICAgICAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLndvcmQge1xuICAgICAgICAgICAgZmxleC1iYXNpczogMzAlO1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgPC9MYXlvdXQ+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0O1xuIl19 */\\n/*@ sourceURL=/Users/kashi-lab/github/tangochou/pages/text/[id].tsx */\"));\n\nclass Text extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", initialState);\n  }\n\n  static async getInitialProps(context) {\n    const {\n      id\n    } = context.query;\n    const res = await fetch(`http://localhost:3001/texts?id=${id}`);\n    let data = await res.json();\n    data = data[0];\n    return {\n      id: data.id,\n      desc: data.desc,\n      text: data.text,\n      title: data.title,\n      wordlist: data.wordlist\n    };\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-2875986623\" + \" \" + \"word-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-2875986623\" + \" \" + \"word\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"jsx-2875986623\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"click on a word :)\")), __jsx(\"div\", {\n      className: \"jsx-2875986623\" + \" \" + \"def\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"jsx-2875986623\" + \" \" + \"button-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, __jsx(Button, {\n      clickhandler: e => {\n        addWord(document.getElementsByClassName('word')[0].innerText, this.props.id\n        /*\n        Array.from(document.getElementsByClassName('def')[0].childNodes, x => x.textContent)\n        */\n        ).then(() => location.reload());\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"add to vocab\"), __jsx(Button, {\n      clickhandler: e => {\n        deleteWord(document.getElementsByClassName('word')[0].innerText, this.props.id).then(() => location.reload());\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"remove from vocab\")), __jsx(\"div\", {\n      className: \"jsx-2875986623\" + \" \" + \"def-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), __jsx(\"hr\", {\n      className: \"jsx-2875986623\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), __jsx(\"h3\", {\n      className: \"jsx-2875986623\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.props.title), __jsx(\"div\", {\n      className: \"jsx-2875986623\" + \" \" + \"text-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, textWithTags(this.props.text, this.props.wordlist)), __jsx(_JSXStyle, {\n      id: \"2875986623\",\n      __self: this\n    }, \".button-container.jsx-2875986623{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;margin:0.5rem 0;width:100%;}.def.jsx-2875986623{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;margin:0.5rem 0;}.def-link.jsx-2875986623{line-height:1;}.text-container.jsx-2875986623{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;overflow-wrap:break-word;}.word.jsx-2875986623{border-bottom:1px dotted #fff;}.word-container.jsx-2875986623{background-color:#a17da1;color:white;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;padding:1rem;}.word.jsx-2875986623{-webkit-flex-basis:30%;-ms-flex-preferred-size:30%;flex-basis:30%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYXNoaS1sYWIvZ2l0aHViL3RhbmdvY2hvdS9wYWdlcy90ZXh0L1tpZF0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9Lb0IsQUFHMEIsQUFNQSxBQUtDLEFBR0QsQUFLaUIsQUFHTCxBQU9WLGNBakJqQixXQVdjLEtBSGQsT0FJZSw2QkFNZixRQTdCK0IsQUFNVixBQVFBLHFDQVVGLGdDQWpCRCxBQVFTLGdCQVAzQixTQVFBLE1BU2UsYUFDZixVQXpCa0IsZ0JBQ0wsV0FDYiIsImZpbGUiOiIvVXNlcnMva2FzaGktbGFiL2dpdGh1Yi90YW5nb2Nob3UvcGFnZXMvdGV4dC9baWRdLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJztcbmltcG9ydCBJbnB1dFRleHQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9JbnB1dFRleHQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQgeyBhZGRXb3JkLCBkZWxldGVXb3JkIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGJVdGlscyc7XG5pbXBvcnQgeyB1bmVzY2FwZSwgc3RyaXAgfSBmcm9tICcuLi8uLi91dGlscy9zdHJVdGlscyc7XG5cbmltcG9ydCBzY3NzIGZyb20gJy4uLy4uL25vZGVfbW9kdWxlcy9sb2FkZXJzLmNzcy9zcmMvYW5pbWF0aW9ucy9wYWNtYW4uc2Nzcyc7XG5jb25zdCBMb2FkZXIgPSByZXF1aXJlKCdyZWFjdC1sb2FkZXJzJykuTG9hZGVyO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBpZDogbnVtYmVyO1xuICBkZXNjOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgd29yZGxpc3Q6IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzV29yZExpc3Q6IHN0cmluZ1tdO1xufVxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBzV29yZExpc3Q6IFtdLFxufTtcblxuY29uc3QgbGlua1N0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICBjb2xvcjogJ3doaXRlJyxcbiAgZm9udFNpemU6ICcwLjVyZW0nLFxuICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gIHRleHREZWNvcmF0aW9uOiAnbm9uZScsXG59O1xuXG5jb25zdCBoYW5kbGVXb3JkQ2xpY2sgPSBhc3luYyAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgY29uc3Qgd29yZCA9IChldmVudC50YXJnZXQgYXMgSFRNTFNwYW5FbGVtZW50KS5pbm5lckhUTUw7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RlZicpWzBdO1xuICAvLyBzaG93IGxvYWRpbmdcbiAgLy8gY29uc3QgbG9hZGVyID0gPExvYWRlciB0eXBlPVwicGFjbWFuXCIgYWN0aXZlIC8+O1xuICAvLyBjb25zdCBsb2FkZXIgPSA8ZGl2IGNsYXNzTmFtZT17c2Nzcy5wYWNtYW59PjwvZGl2PjtcbiAgY29uc3QgbG9hZGVyID0gPGltZyBzcmM9XCIvc3RhdGljL2xvYWRlci5naWZcIiBzdHlsZT17eyB3aWR0aDogJzNyZW0nIH19IC8+O1xuICBSZWFjdERPTS5yZW5kZXIobG9hZGVyLCBjb250YWluZXIpO1xuICAvLyByZW1vdmUgY29tbWFzIGFuZCBwZXJpb2RzXG4gIGxldCBxd29yZCA9IHN0cmlwKHdvcmQpO1xuICAvLyBzcGxpdCBzdHJpbmcgaWYgY29uY2F0ZW5hdGVkXG4gIGlmICh3b3JkLmluY2x1ZGVzKFwiJ1wiKSkgcXdvcmQgPSB3b3JkLnNwbGl0KFwiJ1wiKVsxXTtcbiAgLy8gc2hvdyBsaW5rIHRvIExpbmd1ZWVcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vd3d3Lmxpbmd1ZWUuZnIvZnJhbmNhaXMtYW5nbGFpcy9zZWFyY2g/c291cmNlPWF1dG8mcXVlcnk9JHtxd29yZH1gO1xuICBjb25zdCBsaW5rID0gKFxuICAgIDxhIGhyZWY9e3VybH0gc3R5bGU9e2xpbmtTdHlsZX0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICB7dXJsfVxuICAgIDwvYT5cbiAgKTtcbiAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgJ3dvcmQnLFxuICApWzBdIGFzIEhUTUxEaXZFbGVtZW50KS5pbm5lclRleHQgPSBxd29yZDtcbiAgUmVhY3RET00ucmVuZGVyKGxpbmssIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RlZi1saW5rJylbMF0pO1xuXG4gIC8vIGdldCBkZWZpbml0aW9ucyBmcm9tIExpbmd1ZWVcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9saW5ndWVlLyR7cXdvcmR9YCk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIGNvbnNvbGUubG9nKGRhdGEpO1xuICAvLyBkaXNwbGF5IGRlZmluaXRpb25zXG4gIGNvbnN0IHNwYW5TdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHsgbWFyZ2luUmlnaHQ6ICcxcmVtJyB9O1xuXG4gIGxldCBlbGVtZW50cztcbiAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgZWxlbWVudHMgPSBkYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgIDxzcGFuIGtleT17aW5kZXh9IHN0eWxlPXtzcGFuU3R5bGV9PlxuICAgICAgICB7aXRlbX1cbiAgICAgIDwvc3Bhbj5cbiAgICApKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50cyA9IDxpPm5vIGRlZmluaXRpb24gZm91bmQgOig8L2k+O1xuICB9XG5cbiAgUmVhY3RET00ucmVuZGVyKGVsZW1lbnRzLCBjb250YWluZXIpO1xufTtcblxuY29uc3QgdGV4dFdpdGhUYWdzID0gKHRleHQ6IHN0cmluZywgd29yZGxpc3Q6IHN0cmluZ1tdKSA9PiAoXG4gIDw+XG4gICAge3RleHQuc3BsaXQoJyAnKS5tYXAoKHdvcmQsIGluZGV4KSA9PiAoXG4gICAgICA8PlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgY2xhc3NOYW1lPXt3b3JkbGlzdC5pbmNsdWRlcyh3b3JkKSA/ICdoaWdobGlnaHQnIDogJyd9XG4gICAgICAgICAgb25DbGljaz17aGFuZGxlV29yZENsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge3VuZXNjYXBlKHdvcmQpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgICZuYnNwO1xuICAgICAgPC8+XG4gICAgKSl9XG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgLmhpZ2hsaWdodCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNhMTdkYTE7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgcGFkZGluZzogMCAwLjNyZW07XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8Lz5cbik7XG5cbmNsYXNzIFRleHQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRlOiBTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblxuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKGNvbnRleHQpIHtcbiAgICBjb25zdCB7IGlkIH0gPSBjb250ZXh0LnF1ZXJ5O1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDEvdGV4dHM/aWQ9JHtpZH1gKTtcbiAgICBsZXQgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgZGF0YSA9IGRhdGFbMF07XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICBkZXNjOiBkYXRhLmRlc2MsXG4gICAgICB0ZXh0OiBkYXRhLnRleHQsXG4gICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgIHdvcmRsaXN0OiBkYXRhLndvcmRsaXN0LFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid29yZC1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndvcmRcIj5cbiAgICAgICAgICAgIDxpPmNsaWNrIG9uIGEgd29yZCA6KTwvaT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlZlwiPjwvZGl2PlxuICAgICAgICAgIHsvKiA8SW5wdXRUZXh0IC8+ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBjbGlja2hhbmRsZXI9e2UgPT4ge1xuICAgICAgICAgICAgICAgIGFkZFdvcmQoXG4gICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd29yZCcpWzBdIGFzIEhUTUxEaXZFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAuaW5uZXJUZXh0LFxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RlZicpWzBdLmNoaWxkTm9kZXMsIHggPT4geC50ZXh0Q29udGVudClcbiAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgKS50aGVuKCgpID0+IGxvY2F0aW9uLnJlbG9hZCgpKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgYWRkIHRvIHZvY2FiXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgY2xpY2toYW5kbGVyPXtlID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGVXb3JkKFxuICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dvcmQnKVswXSBhcyBIVE1MRGl2RWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgLmlubmVyVGV4dCxcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgKS50aGVuKCgpID0+IGxvY2F0aW9uLnJlbG9hZCgpKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgcmVtb3ZlIGZyb20gdm9jYWJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVmLWxpbmtcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxocj48L2hyPlxuICAgICAgICA8aDM+e3RoaXMucHJvcHMudGl0bGV9PC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgIHt0ZXh0V2l0aFRhZ3ModGhpcy5wcm9wcy50ZXh0LCB0aGlzLnByb3BzLndvcmRsaXN0KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAuYnV0dG9uLWNvbnRhaW5lciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgICBtYXJnaW46IDAuNXJlbSAwO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5kZWYge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZmxvdzogcm93IHdyYXA7XG4gICAgICAgICAgICBtYXJnaW46IDAuNXJlbSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGVmLWxpbmsge1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC50ZXh0LWNvbnRhaW5lciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1mbG93OiByb3cgd3JhcDtcbiAgICAgICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC53b3JkIHtcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgI2ZmZjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLndvcmQtY29udGFpbmVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNhMTdkYTE7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICAud29yZCB7XG4gICAgICAgICAgICBmbGV4LWJhc2lzOiAzMCU7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L0xheW91dD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4iXX0= */\\n/*@ sourceURL=/Users/kashi-lab/github/tangochou/pages/text/[id].tsx */\"));\n  }\n\n}\n\nexport default Text;","map":{"version":3,"sources":["/Users/kashi-lab/github/tangochou/pages/text/[id].tsx"],"names":["React","ReactDOM","Layout","fetch","Button","addWord","deleteWord","unescape","strip","Loader","require","initialState","sWordList","linkStyle","color","fontSize","fontWeight","textDecoration","handleWordClick","event","word","target","innerHTML","container","document","getElementsByClassName","loader","width","render","qword","includes","split","url","link","innerText","response","data","json","console","log","spanStyle","marginRight","elements","length","map","item","index","textWithTags","text","wordlist","Text","Component","getInitialProps","context","id","query","res","desc","title","e","props","then","location","reload"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport Layout from '../../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport InputText from '../../components/InputText';\nimport Button from '../../components/Button';\nimport { addWord, deleteWord } from '../../utils/dbUtils';\nimport { unescape, strip } from '../../utils/strUtils';\n\nimport scss from '../../node_modules/loaders.css/src/animations/pacman.scss';\nconst Loader = require('react-loaders').Loader;\n\ninterface Props {\n  id: number;\n  desc: string;\n  text: string;\n  title: string;\n  wordlist: string[];\n}\n\ninterface State {\n  sWordList: string[];\n}\nconst initialState = {\n  sWordList: [],\n};\n\nconst linkStyle: React.CSSProperties = {\n  color: 'white',\n  fontSize: '0.5rem',\n  fontWeight: 'bold',\n  textDecoration: 'none',\n};\n\nconst handleWordClick = async (event: React.MouseEvent) => {\n  const word = (event.target as HTMLSpanElement).innerHTML;\n  const container = document.getElementsByClassName('def')[0];\n  // show loading\n  // const loader = <Loader type=\"pacman\" active />;\n  // const loader = <div className={scss.pacman}></div>;\n  const loader = <img src=\"/static/loader.gif\" style={{ width: '3rem' }} />;\n  ReactDOM.render(loader, container);\n  // remove commas and periods\n  let qword = strip(word);\n  // split string if concatenated\n  if (word.includes(\"'\")) qword = word.split(\"'\")[1];\n  // show link to Linguee\n  const url = `https://www.linguee.fr/francais-anglais/search?source=auto&query=${qword}`;\n  const link = (\n    <a href={url} style={linkStyle} target=\"_blank\">\n      {url}\n    </a>\n  );\n  (document.getElementsByClassName(\n    'word',\n  )[0] as HTMLDivElement).innerText = qword;\n  ReactDOM.render(link, document.getElementsByClassName('def-link')[0]);\n\n  // get definitions from Linguee\n  const response = await fetch(`http://localhost:3000/api/linguee/${qword}`);\n  const data = await response.json();\n  console.log(data);\n  // display definitions\n  const spanStyle: React.CSSProperties = { marginRight: '1rem' };\n\n  let elements;\n  if (data.length) {\n    elements = data.map((item, index) => (\n      <span key={index} style={spanStyle}>\n        {item}\n      </span>\n    ));\n  } else {\n    elements = <i>no definition found :(</i>;\n  }\n\n  ReactDOM.render(elements, container);\n};\n\nconst textWithTags = (text: string, wordlist: string[]) => (\n  <>\n    {text.split(' ').map((word, index) => (\n      <>\n        <span\n          key={index}\n          className={wordlist.includes(word) ? 'highlight' : ''}\n          onClick={handleWordClick}\n        >\n          {unescape(word)}\n        </span>\n        &nbsp;\n      </>\n    ))}\n    <style jsx>{`\n      .highlight {\n        background-color: #a17da1;\n        color: white;\n        padding: 0 0.3rem;\n      }\n    `}</style>\n  </>\n);\n\nclass Text extends React.Component<Props, State> {\n  state: State = initialState;\n\n  static async getInitialProps(context) {\n    const { id } = context.query;\n    const res = await fetch(`http://localhost:3001/texts?id=${id}`);\n    let data = await res.json();\n    data = data[0];\n\n    return {\n      id: data.id,\n      desc: data.desc,\n      text: data.text,\n      title: data.title,\n      wordlist: data.wordlist,\n    };\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"word-container\">\n          <div className=\"word\">\n            <i>click on a word :)</i>\n          </div>\n          <div className=\"def\"></div>\n          {/* <InputText /> */}\n          <div className=\"button-container\">\n            <Button\n              clickhandler={e => {\n                addWord(\n                  (document.getElementsByClassName('word')[0] as HTMLDivElement)\n                    .innerText,\n                  this.props.id,\n                  /*\n                  Array.from(document.getElementsByClassName('def')[0].childNodes, x => x.textContent)\n                  */\n                ).then(() => location.reload());\n              }}\n            >\n              add to vocab\n            </Button>\n            <Button\n              clickhandler={e => {\n                deleteWord(\n                  (document.getElementsByClassName('word')[0] as HTMLDivElement)\n                    .innerText,\n                  this.props.id,\n                ).then(() => location.reload());\n              }}\n            >\n              remove from vocab\n            </Button>\n          </div>\n          <div className=\"def-link\"></div>\n        </div>\n        <hr></hr>\n        <h3>{this.props.title}</h3>\n        <div className=\"text-container\">\n          {textWithTags(this.props.text, this.props.wordlist)}\n        </div>\n        <style jsx>{`\n          .button-container {\n            display: flex;\n            justify-content: space-around;\n            margin: 0.5rem 0;\n            width: 100%;\n          }\n          .def {\n            display: flex;\n            flex-flow: row wrap;\n            margin: 0.5rem 0;\n          }\n          .def-link {\n            line-height: 1;\n          }\n          .text-container {\n            display: flex;\n            flex-flow: row wrap;\n            overflow-wrap: break-word;\n          }\n          .word {\n            border-bottom: 1px dotted #fff;\n          }\n          .word-container {\n            background-color: #a17da1;\n            color: white;\n            display: flex;\n            flex-flow: column;\n            padding: 1rem;\n          }\n          .word {\n            flex-basis: 30%;\n          }\n        `}</style>\n      </Layout>\n    );\n  }\n}\n\nexport default Text;\n"]},"metadata":{},"sourceType":"module"}